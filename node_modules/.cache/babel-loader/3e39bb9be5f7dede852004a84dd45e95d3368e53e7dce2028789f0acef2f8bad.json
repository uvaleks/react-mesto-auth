{"ast":null,"code":"import _regeneratorRuntime from\"/Users/uvaleks/Documents/coding/web_dev_study/mesto-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/uvaleks/Documents/coding/web_dev_study/mesto-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/uvaleks/Documents/coding/web_dev_study/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../../src/index.css';import Card from'./Card';import api from'../utils/api';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){var _ref2;var fetchUserInfo=function fetchUserInfo(){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.getUserInfo();case 3:response=_context.sent;setUserName(response.name);setUserDescription(response.about);setUserAvatar(response.avatar);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(\"Error fetching user data:\",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}))).apply(this,arguments);};fetchUserInfo();},[]);useEffect(function(){var _ref3;var fetchCards=function fetchCards(){return(_ref3=_ref3||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.getCards();case 3:response=_context2.sent;setCards(response);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Error fetching cards:\",_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}))).apply(this,arguments);};fetchCards();},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-edit-button\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__profile-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__profile-name\",id:\"profile-name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__profile-description\",id:\"profile-description\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{name:card.name,link:card.link,likes:card.likes,card:card,onCardClick:onCardClick},card._id);})})]});}export default Main;","map":{"version":3,"names":["Card","api","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditAvatar","onEditProfile","onAddPlace","onCardClick","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","_ref2","fetchUserInfo","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","getUserInfo","sent","name","about","avatar","t0","console","log","stop","apply","arguments","_ref3","fetchCards","_callee2","_callee2$","_context2","getCards","className","children","src","alt","onClick","id","type","map","card","link","likes","_id"],"sources":["/Users/uvaleks/Documents/coding/web_dev_study/mesto-react/src/components/Main.js"],"sourcesContent":["import '../../src/index.css';\nimport Card from './Card';\nimport api from '../utils/api';\nimport { useState, useEffect } from 'react';\n\nfunction Main({\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    onCardClick\n  }) {\n  \n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await api.getUserInfo();\n        setUserName(response.name);\n        setUserDescription(response.about);\n        setUserAvatar(response.avatar);\n      } catch (error) {\n        console.log(\"Error fetching user data:\", error);\n      }\n    };\n\n    fetchUserInfo();\n  }, []);\n\n  useEffect(() => {\n    const fetchCards = async () => {\n      try {\n        const response = await api.getCards();\n        setCards(response);\n      } catch (error) {\n        console.log(\"Error fetching cards:\", error);\n      }\n    };\n\n    fetchCards();\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n          <div className=\"profile__avatar-wrapper\">\n          <img className=\"profile__avatar\" src={userAvatar} alt=\"Аватар\"/>\n          <div className=\"profile__avatar-edit-button\" onClick={onEditAvatar}></div>\n          </div>\n          <div className=\"profile__profile-info\">\n              <div className=\"profile__name-wrapper\">\n                  <h1 className=\"profile__profile-name\" id=\"profile-name\">{userName}</h1>\n                  <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Редактировать\" onClick={onEditProfile}></button>\n              </div>\n              <p className=\"profile__profile-description\" id=\"profile-description\">{userDescription}</p>\n          </div>\n          <button className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            name={card.name}\n            link={card.link}\n            likes={card.likes}\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}